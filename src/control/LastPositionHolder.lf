target Cpp

public preamble {=
  #ifndef LAST_POSITION_HOLDER
  #define LAST_POSITION_HOLDER
  #include "common_vector.hpp"

  #endif //XARM7
=}

private preamble {=
 
=}

reactor LastPositionHolder {
 input current_position : Vector
 output current_position_planner: Vector
 output last_position_planner: Vector
 state last_position: Vector
  

  reaction(startup) {=   

  =}

  reaction(current_position) -> current_position_planner,last_position_planner  {=
      Vector cur_pos = *current_position.get();
      current_position_planner.set(cur_pos);
      last_position_planner.set(this->last_position);
      this->last_position = cur_pos;
  =}
}